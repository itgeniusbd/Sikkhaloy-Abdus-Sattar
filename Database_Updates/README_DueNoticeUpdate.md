# Due Invoice Notification System - ????? ???????????

## ?????????? ??????

?? ?????? ?????? ??????? ?????????? ????????? ???? ???????????? ???????? ??? ???????

### ??????? ????:
- ? ?????????? **?? ???????????? ????** ?????? ????? **????** ?????
- ? Authority ??? ???? ???????????? ????? ???? ???? ?????, ????? `IsHidden = 1` ??? ???? ???

### ???? ????:
- ? ?????????? **?? ???????????? ????** ?????? ????? **????** ?????
- ? Authority ????????? **???? ???????????? ???? ???? ????** (`IsEnabled = 1`), ???? ????? Dashboard ? ????? ??????

---

## ????????? ????????

### 1. **SIKKHALOY V2\Profile\Admin.aspx.cs**
**????????:**
- `IsDueNoticeHidden()` ???? ?? ???????? `IsDueNoticeEnabled()` ???? ??? ??? ??????
- ??? `IsEnabled` ???? ??? ??? (?????? `IsHidden` ??? ????)
- ?????? ??????? ??????: `false` (????? ?????? ??)

**??? ????:**
```csharp
private bool IsDueNoticeEnabled()
{
    // IsEnabled = 1 ????? ??? HideUntilDate ?? ????? ?? ??? ???? ???? = true
    // ???????? = false (????? ?????? ??)
    return false; // ??????: ????
}
```

---

### 2. **SIKKHALOY V2\Authority\Institutions\Institution_Details.aspx**
**????????:**
- UI ?????? ???????? ??? ??????
- `HideDueNoticeCheckBox` ?? ???????? `EnableDueNoticeCheckBox` ??????? ??? ??????
- ???? ??????: "?????????? ?? ???????????? ?????? ????? ???? ????"

**UI ?????:**
- ???????: **"?????? ????? ???? ????"**
- ??????? ??????: "??? ???? ?? ???????????? Dashboard ? ?????? ????? ???????"

---

### 3. **SIKKHALOY V2\Authority\Institutions\Institution_Details.aspx.cs**
**????????:**
- `LoadDueNoticeSettings()`: ??? `IsEnabled = 1` ??? ???
- `HideDueNoticeCheckBox_CheckedChanged()` ? `EnableDueNoticeCheckBox_CheckedChanged()`
- `RemoveDueNoticeHideSetting()` ? `DisableDueNotice()`
- `SaveDueSettingsButton_Click()`: ??? `IsEnabled = 1` ????? ??????? ???

---

### 4. **SIKKHALOY V2\Authority\Institutions\Institution_Details.aspx.designer.cs**
**????????:**
- `HideDueNoticeCheckBox` ? `EnableDueNoticeCheckBox`

---

### 5. **Database_Updates/Update_DueNoticeSettings_Table.sql** (???? ????)
**????????:**
Database ????? ????? ???? ???? SQL script

**?? ????:**
1. ??? `SchoolInfo_DueNoticeSettings` ????? ?? ????, ????? ???? ????
2. ?????? `IsHidden` ???? ?????, ???? `IsEnabled` ? ???????? ????
3. ?? ?????? ???????? `IsEnabled = 0` ??? ???? (?????? ????)
4. Performance ?? ???? index ???? ????

---

## ??????? ??????????

### `SchoolInfo_DueNoticeSettings` ?????

| Column Name     | Data Type      | Description                              |
|----------------|----------------|------------------------------------------|
| SettingID      | int (PK)       | Primary key, auto-increment              |
| SchoolID       | int            | ???????????? ID                          |
| **IsEnabled**  | **bit**        | **1 = ????, 0 = ???? (??????)**         |
| HideUntilDate  | datetime       | ??????? ??????? ????? (??????)          |
| Reason         | nvarchar(500)  | ???/???? (??????)                      |
| CreatedDate    | datetime       | ????? ?????                             |
| CreatedBy      | int            | ?? ???? ????? (RegistrationID)          |

---

## ??????? ??????????

### Authority ?? ????:

1. **Institution Details** ???? ???
2. **"Due Invoice Settings"** ?????? ????? ????
3. **"?????? ????? ???? ????"** ??????? ??? ????
4. (??????) ??? ??????????? ?????? ???, ????? ????? ???
5. (??????) ??? ?????
6. **"??????? ????"** ????? ????? ????

### ???????????? ????:

- ???? ??? ???? ????? ???
- ????????? ??? Authority ????? ???? ????? ???? ????, ???? Dashboard ? ?????? ????? ????? ????

---

## ??????? ????? ??????

### ?????? ?: SQL Server Management Studio (SSMS)

1. SSMS ?????
2. ????? ???????? ????? ????
3. **New Query** ?????
4. `Database_Updates/Update_DueNoticeSettings_Table.sql` ?????? ??? ??? ????
5. Execute ???? (F5)

### ?????? ?: Command Line

```powershell
sqlcmd -S YourServerName -d YourDatabaseName -i "Database_Updates\Update_DueNoticeSettings_Table.sql"
```

---

## ??????? ???? ??????

### ?. ?????? ???? ??????? (????? ????):

1. ???? ??????????? ???? ???? (?????? notification enable ??? ???)
2. Dashboard ? ???
3. **???? ?????? ????? ???? ???? ??** (???? ?????? ????)

### ?. ????? ???? ???? ???????:

1. Authority login ????
2. Institution Details ???? ???
3. ???? ?????????? ??????? ????
4. "Due Invoice Settings" ?????? "?????? ????? ???? ????" ??? ????
5. ??????? ????
6. ??? ? ??????????? ???? ???? Dashboard ? **?????? ????? ???? ????**

### ?. ??????? ??????? ???????:

1. ????? ???? ???? ????????
2. HideUntilDate ???? ??????? ????? ??? (????: 31 Jan 2025)
3. ??????? ????
4. ??? Dashboard ? **????? ???? ???? ??** (? ????? ???????)
5. ????? ??? ???? ???? **???? ???? ????**

---

## ???????????? ???

?? **???????:**
- ?? ??????? ?? **?? ???????????? ????? ?????????? ????** ?????
- ???? ???????????? ????? ?????? ???, ????? ???? **??????????? enable** ???? ???
- ?????? `IsHidden` ???? ???????????????? `IsEnabled = 0` ?? ???????? ???

? **??????:**
- Authority ?? ???????? ?????????? ????? ??? ???????????? ????? ??????
- ???????????? ????? ???? ???? ??
- ??????? ??? ????????????? ????? ???? ???? ????

---

## ?????? ?????? (Troubleshooting)

### ??????: ????? ???? ???? ??? ???? ?????? ??

**??????:**
1. ??? ???? `IsEnabled = 1` ??? ?????? ????
2. ??? ???? `HideUntilDate` NULL ???? ??????? ?????
3. ??????????? ????? ?????? ??? ???? ????? ????

**SQL Query:**
```sql
SELECT * FROM SchoolInfo_DueNoticeSettings 
WHERE SchoolID = @YourSchoolID
ORDER BY CreatedDate DESC
```

### ??????: Database update script failed

**??????:**
1. ??? ???? ????? ??????????? permission ??? ????
2. ??? ???? table name ???? ??? ????
3. Backup ????? ???? ?????? ????

---

## Contact

?????? ?????? ?? ???????? ???? IT Genius ?? ???? ??????? ?????

**?????:** 25 January 2025  
**Version:** 2.0  
**Updated By:** GitHub Copilot
